# 1.1.1 手动配置

## 下载Mdk并解压

首先要到[Minecraft Forge官网](https://files.minecraftforge.net/)中下载Mdk压缩包.\
打开官网后在左侧找到对应的Minecraft游戏版本.这里使用的版本是1.12.2.\
随后下载Minecraft Forge的Mdk压缩包.一般来讲直接下载Recommended版本.\
下方的Show all Versions点开就能够看到其他的版本.\
这里使用的是14.23.5.2854版本 [forge-1.12.2-14.23.5.285](https://files.minecraftforge.net/maven/net/minecraftforge/forge/1.12.2-14.23.5.2854/forge-1.12.2-14.23.5.2854-mdk.zip)[-mdk.zip](https://files.minecraftforge.net/maven/net/minecraftforge/forge/1.12.2-14.23.5.2854/forge-1.12.2-14.23.5.2854-mdk.zip) . \
需要注意的是随着版本更新Forge的配置方式也会有改变.\
****特别是在不同的游戏版本中的Forge甚至会有天差地别的配置方式\
因此配置方面请寻找对应游戏版本的教程.\
此教程以14.23.5.2854为准.

**\*因为著名的`log4j` 事件,该教程后续也改用更高版本的`14.23.5.2859` .出于安全问题,不论任何原因都请不要使用旧版本的Forge进行开发**

下载好后将其解压到一个**路径名中只有英文字幕/数字/下划线**的位置上\
只需要图中的7个文件,其他的可以删掉

![](<../../assets/image (16).png>)

## 配置环境

### 在IntelliJ IDEA中导入项目下载

解压后下一步是将项目导入Intellij IDEA中,在项目管理器中选择导入项目

![](<../../.gitbook/assets/image (56).png>)

随后选择刚刚解压的那些文件中的build.gradle 并导入\
接着IDEA会开始下载所需文件并自动配置\
如果是第一次下载可能会花很长时间,因此注意保持网络顺畅.

#### 我找不到导入项目.jpg

新版本的IDEA重做了项目管理器,在新版中只要在项目管理器中选择打开,并选中build.gradle后`作为项目打开`



![](<../../.gitbook/assets/image (64).png>)

等待配置以及所有下载都完成后.在右侧的gradle栏中运行genIntellijRuns

![](<../../.gitbook/assets/image (37).png>)

出现BUILD SUCCESSFUL后重启IDEA

![](<../../.gitbook/assets/image (47).png>)

### 测试环境

至此如果一切正常,就可以直接构建MOD并运行了.\
在左下角中打开IDEA自带的控制台输入命令`gradlew.bat runClient`并按下回车就可以直接构建MOD并启动游戏

![](<../../.gitbook/assets/image (24).png>)

其中的runClient是用来启动客户端,如果改成runServer则是启动服务端.

![](<../../.gitbook/assets/image (61).png>)

正常启动游戏后能在MOD列表中看到Example Mod后就代表完成了配置

不过每次都打命令来运行太麻烦了,我们可以使用快捷键.\
使用快捷键Alt+Shift+F10呼出运行菜单\


![](<../../.gitbook/assets/image (48).png>)

runClient是运行客户端,runServer则是运行服务端.\
也可以在右侧的Gradle中运行游戏

![](<../../.gitbook/assets/image (67).png>)

### 构建MOD

构建MOD的步骤跟测试环境的步骤无差异,控制台运行的方法则只需要将其中的命令改成`build`就可以了

```
gradlew.bat build
```

![](<../../.gitbook/assets/image (68).png>)

构建完成后在该目录下就可以找到刚刚生成的jar文件了

![](<../../.gitbook/assets/image (58).png>)

如果要发布MOD只需上传第一个即可.第二个是源码,没有发布的必要.

## 修改信息

### 包名

包名为了方便区分,通常都是将公司的域名倒置.比如Google的第三方库包名就是com.google\
如果你没有个人域名又或者是不想使用.那么你也可以"作者id+项目id".\
并以全小写+数字,这两种之外的字符都不能使用.

![](<../../.gitbook/assets/image (43).png>)

### 主类

打开包中的ExampleMod类.这个类也被称为主类.并且一个MOD中只有一个主类.\
Forge在加载MOD的时候首先会找到主类,然后从主类中获取必要的信息.再接着执行对应的操作.\
因此主类在MOD中扮演者至关重要的角色,\


![](<../../.gitbook/assets/image (40).png>)

#### 重命名主类

找到`@Mod`开头的字段,并点击`ExampleMod`使所有相同字段亮起后右键→重构→重命名.重命名成你想要的名字.此处可以使用大小写英文以及数字.这里我改成了和项目ID一致的`TestMod`

![](<../../.gitbook/assets/image (60).png>)

#### 修改ModID与其他信息

![](<../../.gitbook/assets/image (1).png>)

**`ModID`**是Mod的标识符,就如同姓名.Mod的联动就要依靠辨识ModID.同时你的ModID也会被作为你在游戏中添加内容的前缀.比如`minecraft:glass`中前半部分就是ModID,glass则是物品ID.物品ID在后续内容会提到.这里为了保持一致修改成**`testmod`.**注意此处只能使用英文小写.

**`NAME`**就是MOD的名字,MOD列表中会显示的名字就是这个.此处命名限制较少.英文大小写/横线/空格/数字都可以.将其修改成**`Test Mod`**

**`VERSION`**Mod的版本号,按需修改即可

### 修改mcmod.info

mcmod.info是Mod的简介,它会被显示在Mod列表中.但要注意只要更改其中的modid和name.而version和mcversion则会在构建mod的时候被替换掉.剩下的内容根据喜好填写即可.

![](<../../.gitbook/assets/image (6).png>)

![](<../../.gitbook/assets/image (8).png>)

### 修改build.gradle

在经过前面两次修改之后,构建出来的jar文件名字和信息依旧没变.需要到build.gradle中手动修改\
只需修改红框中的位置即可.`archivesBaseName`这个则是生成的jar名字.

![](<../../.gitbook/assets/image (49).png>)

![](<../../.gitbook/assets/image (63).png>)
